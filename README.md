# crd2pulumi-tsx-repro:

Run Instructions:
- `pnpm i`
- ```
  pnpm nx run crds:serve-tsx
  ```
  or
  ```
  pnpm tsx --no-warnings --no-cache --enable-source-maps --tsconfig ./apps/crds/tsconfig.app.json ./apps/crds/index.ts
  ```
- should encounter the following error
  ```
  /apps/crds/index.ts:3
  new certManagerIssuers.cert_manager.v1.Issuer(
    ^
  TypeError: import_src.certManagerIssuers.cert_manager.v1.Issuer is not a constructor
  ```
  but in the file [Issuer](libs/custom-resource-definitions/src/cert-manager/issuers/cert_manager/v1/issuer.ts) is defined and exported as class and has a constructor defined.

- The files in the `custom-resource-definitions` folder are generated by [crd2pulumi](https://github.com/pulumi/crd2pulumi) tool using the below command
  ```
  crd2pulumi --nodejsPath ./libs/custom-resource-definitions/src/cert-manager/cert-manager/issuers/ ./libs/custom-resource-definitions/src/cert-manager/yamls/issuers.yaml --nodejsName certManagerIssuers --force
  ```
